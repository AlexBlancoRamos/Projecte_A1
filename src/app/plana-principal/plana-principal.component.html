<header>

  <img id="logo" src="../../assets/fotos/logoooo.png">

  <div class="container">
    <div class="search-box">
      <input type="text" class="search-input" placeholder="Search..">

      <button class="search-button">
        <i class="fas fa-search">Buscar</i>
      </button>
    </div>
  </div>

  <br>

</header>

<button id="test" (click)="openVideoList()">Mostrar películas</button>

<p *ngIf="showDiv">Selecione la película que desea ver:</p>

<div style="display: flex; flex-direction: column; min-height: 80vh;">
  <div style="flex: 1; display: flex; flex-direction: column; align-items: center">
    <div style="display: flex" *ngIf="showDiv">
      <table>
        <tr>
          <ng-container *ngFor="let video of videoList; let i of videoList">
            <p id="titulos"  (click)="toggleAndRequestVideo(video)">
              {{video.title.
              split('.')[0]
              .split('720p')[0]
              .replaceAll("_", " ")
              .replaceAll("–", " ")
              .replaceAll("-", " ")
              .replaceAll("_", " ")
              }}
            </p>
            <ng-container *ngIf="video.opened">
              <ng-container *ngIf="!verified">
                <img src="assets/loading.gif" alt="loading gif">

                <button (click)="mostrarPopup()">Mostrar Codigo</button>

                <div id="popup" class="popup">
                  <h4>Este es el codigo:</h4>
                  <b>{{codi}}</b>
                  <br>
                  <button (click)="ocultarPopup()">Cerrar</button>
                </div>

                <div id="overlay" class="overlay"></div>


              </ng-container>
              <ng-container *ngIf="verified">
                <video id="{{i}}" controls style="width: 700px; max-width: 100%">
                  <source src="http://192.168.16.204:3000/{{video.title}}">
                </video>
              </ng-container>
            </ng-container>
          </ng-container>
        </tr>
      </table>
    </div>
  </div>

  <footer>
    <p>Pagina creada por Ismael Naciri, Marc Rubio y Alex Blanco</p>
  </footer>
</div>
